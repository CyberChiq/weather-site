<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Purple Jellyfish Productions ‚Äî Live US Radar & NWS Alerts</title>
    <meta
      name="description"
      content="Live US radar & NWS alerts + real-time severe weather coverage on YouTube. Subscribe to Purple Jellyfish Productions!"
    />

    <!-- Meta tags for sharing -->
    <meta property="og:title" content="Purple Jellyfish Productions ‚Äî Live US Weather Radar & Alerts" />
    <meta property="og:description" content="Interactive radar, live alerts, and a 24/7 weather stream. Subscribe to support the channel!" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />

    <!-- External libraries -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script src="https://apis.google.com/js/platform.js" async defer></script>
  </head>

  <body>
    <div class="bg" aria-hidden="true"></div>

    <!-- Subscribe Modal -->
    <div id="subGate" class="gate-overlay" role="dialog" aria-modal="true" aria-labelledby="gateTitle" aria-describedby="gateDesc">
      <div class="gate-modal">
        <h3 id="gateTitle">Support the Stream ‚Äî Subscribe to Purple Jellyfish Productions</h3>
        <p id="gateDesc">Tap subscribe below, then continue to the live radar & alerts.</p>

        <div
          class="g-ytsubscribe"
          data-channelid="UCthm4CvoVE0kvHYszkORckg"
          data-layout="full"
          data-theme="dark"
          data-count="default"
        ></div>

        <div class="gate-actions">
          <a class="gate-btn" href="https://www.youtube.com/@purplejellyfishproductions" target="_blank" rel="noopener">Open Channel</a>
          <button class="gate-btn primary" id="continueBtn" type="button">I Subscribed ‚Äî Continue</button>
        </div>

        <p class="muted" style="margin-top: 8px">(We can‚Äôt verify a subscription automatically, but every sub helps. Thank you!)</p>
      </div>
    </div>

    <!-- Header -->
    <header class="header-glow">
      <div class="brand">
        <img src="Tornado 3.jpg" alt="Tornado logo" class="logo-img" />
        <span>Purple Jellyfish Productions ‚Äî Live Radar & Alerts</span>
      </div>

      <div class="cta">
        <a class="btn accent" href="https://www.youtube.com/@purplejellyfishproductions" target="_blank" rel="noopener">Watch on YouTube</a>
        <a class="btn" href="#alerts">View Alerts</a>
        <a class="btn danger" href="#support">Support the Stream</a>
      </div>
    </header>

    <!-- Sticky Subscribe Bar -->
    <div class="subbar">
      <span class="note">Enjoying the radar & alerts? Subscribe to support the channel:</span>
      <div
        class="g-ytsubscribe"
        data-channelid="UCthm4CvoVE0kvHYszkORckg"
        data-layout="default"
        data-theme="dark"
        data-count="default"
      ></div>
      <a class="btn accent" href="https://www.youtube.com/@purplejellyfishproductions" target="_blank" rel="noopener">Open Channel</a>
    </div>

    <main class="grid">
      <!-- YouTube Stream -->
      <section class="card">
        <h2>
          Live Stream
          <span id="liveBadge" class="live-badge"><span class="live-dot"></span> LIVE NOW</span>
        </h2>

        <div class="video-wrap">
          <iframe
            src="https://www.youtube.com/embed/1xCAGP_FvNU?autoplay=0&modestbranding=1&rel=0"
            title="YouTube live"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
          ></iframe>
        </div>
      </section>

      <!-- Alerts -->
      <aside class="card" id="alerts">
        <h2>Active Weather Alerts (NWS)</h2>
        <div class="panel">
          <div class="muted">Filter by your area:</div>
          <div class="controls">
            <input id="zip" placeholder="ZIP code (e.g., 80903)" />
            <button class="btn" id="locate">Use my location</button>
            <button class="btn" id="applyZip">Go</button>
          </div>
        </div>

        <div class="alerts-list" id="alertsList">
          <div class="muted">Loading alerts‚Ä¶</div>
        </div>

        <div class="attribution">Alerts: NWS API ‚Ä¢ Radar: RainViewer ‚Ä¢ Map: OpenStreetMap</div>
      </aside>

      <!-- Radar -->
      <section class="card" style="grid-column: 1 / -1">
        <h2>Interactive Radar</h2>
        <div id="map"></div>
      </section>

      <!-- Support -->
      <section class="card" id="support" style="grid-column: 1 / -1">
        <h2>Support & Updates</h2>
        <div class="panel">
          <p>Enjoying the stream? Subscribes & shares help a ton. Consider leaving a üëç on the live chat!</p>
        </div>
      </section>
    </main>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
  </body>
</html>
